# Upgrade di multipass



## I comandi effettivamente usati per l'upgrade

- Dal link "https://github.com/canonical/multipass/releases/tag/v1.12.2" scaricato il file "multipass-1.12.2+mac-Darwin.pkg" ed installato.
- `multipass stop --all`
- `multipass set local.driver=qemu`



## Tutto il flusso

```
Last login: Thu Jul 20 16:20:30 on console

The default interactive shell is now zsh.
To update your account to use zsh, please run `chsh -s /bin/zsh`.
For more details, please visit https://support.apple.com/kb/HT208050.
MacBook-Pro-di-Flavio:~ FB$ multipass list
Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Stopped           --               Ubuntu 20.04 LTS

#########################################################################################
Multipass 1.12.2 release
Fix regession on macOS with hanging clients

Go here for more information: https://github.com/canonical/multipass/releases/tag/v1.12.2
#########################################################################################
MacBook-Pro-di-Flavio:~ FB$ multipass version
multipass   1.11.1+mac
multipassd  1.11.1+mac

#########################################################################################
Multipass 1.12.2 release
Fix regession on macOS with hanging clients

Go here for more information: https://github.com/canonical/multipass/releases/tag/v1.12.2
#########################################################################################
MacBook-Pro-di-Flavio:~ FB$ multipass list
Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Stopped           --               Ubuntu 20.04 LTS
MacBook-Pro-di-Flavio:~ FB$ multipass list
*** Warning! The Hyperkit driver is deprecated and will be removed in an upcoming release. ***

When you are ready to have your instances migrated, please stop them (multipass stop --all) and switch to the QEMU driver (multipass set local.driver=qemu).

Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Stopped           --               Ubuntu 20.04 LTS
```



Dal link "https://github.com/canonical/multipass/releases/tag/v1.12.2" scaricato il file "multipass-1.12.2+mac-Darwin.pkg" ed installato. Finita l'installazione da terminale ho visto che effettivamente si è aggiornato. Come ho porvato ad avviare la macchina virtuale mi ha dato un ulteriore avviso:
- stoppare tutte le macchine virtuali
- cambiare il puntamenteo del "driver"
Comunque i comandi erano indicati e quindi li ho semplicemente eseguiti.

```
MacBook-Pro-di-Flavio:~ FB$ multipass version
multipass   1.12.2+mac
multipassd  1.12.2+mac
MacBook-Pro-di-Flavio:~ FB$ multipass start ubuntufla
*** Warning! The Hyperkit driver is deprecated and will be removed in an upcoming release. ***

When you are ready to have your instances migrated, please stop them (multipass stop --all) and switch to the QEMU driver (multipass set local.driver=qemu).

MacBook-Pro-di-Flavio:~ FB$ multipass list
*** Warning! The Hyperkit driver is deprecated and will be removed in an upcoming release. ***

When you are ready to have your instances migrated, please stop them (multipass stop --all) and switch to the QEMU driver (multipass set local.driver=qemu).

Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Running           192.168.64.3     Ubuntu 20.04 LTS
MacBook-Pro-di-Flavio:~ FB$ multipass shell ubuntufla
*** Warning! The Hyperkit driver is deprecated and will be removed in an upcoming release. ***

When you are ready to have your instances migrated, please stop them (multipass stop --all) and switch to the QEMU driver (multipass set local.driver=qemu).

Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-99-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

 System information disabled due to load higher than 1.0

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

42 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

15 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


The list of available updates is more than a week old.
To check for new updates run: sudo apt update
New release '22.04.2 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Thu Jul 13 17:52:50 2023 from 192.168.64.1
ubuntu@ubuntufla:~ $exit
logout
MacBook-Pro-di-Flavio:~ FB$ multipass stop ubuntufla
MacBook-Pro-di-Flavio:~ FB$ multipass list
*** Warning! The Hyperkit driver is deprecated and will be removed in an upcoming release. ***

When you are ready to have your instances migrated, please stop them (multipass stop --all) and switch to the QEMU driver (multipass set local.driver=qemu).

Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Stopped           --               Ubuntu 20.04 LTS
MacBook-Pro-di-Flavio:~ FB$ multipass stop --all
MacBook-Pro-di-Flavio:~ FB$ multipass set local.driver=qemu
The following instances were successfully migrated:
  primary
  ub22fla
  ubuntufla

Multipass retained the original instances, but they take space on disk.

When you are happy with the newly migrated instances, you can temporarily switch back to the Hyperkit driver and delete the old instance(s) (multipass delete --purge <instance-name>).
MacBook-Pro-di-Flavio:~ FB$ 
```

È andato tutto bene ^_^


```
MacBook-Pro-di-Flavio:~ FB$ 
MacBook-Pro-di-Flavio:~ FB$ multipass list
Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Stopped           --               Ubuntu 20.04 LTS
MacBook-Pro-di-Flavio:~ FB$ multipass start ubuntufla
MacBook-Pro-di-Flavio:~ FB$ multipass list
Name                    State             IPv4             Image
primary                 Stopped           --               Ubuntu 22.04 LTS
ub22fla                 Stopped           --               Ubuntu 22.04 LTS
ubuntufla               Running           192.168.64.7     Ubuntu 20.04 LTS
MacBook-Pro-di-Flavio:~ FB$ multipass shell ubuntufla
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-153-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

 System information disabled due to load higher than 1.0

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

42 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

15 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


The list of available updates is more than a week old.
To check for new updates run: sudo apt update
New release '22.04.2 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Mon Jul 31 16:45:15 2023 from 192.168.64.1
ubuntu@ubuntufla:~ $
```



Già che ci siamo faccio anche gli aggiornamenti di ubuntu dentro la macchina virtuale (VM)

```
$ sudo apt update
$ sudo apt upgrade
```

```
ubuntu@ubuntufla:~ $sudo apt upgrade
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Calculating upgrade... Done
The following package was automatically installed and is no longer required:
  libxmlb1
Use 'sudo apt autoremove' to remove it.
Get more security updates through Ubuntu Pro with 'esm-apps' enabled:
  libhdf5-103 libcgraph6 redis-tools libmatio9 libcdt5 libpathplan4
  libopenexr24 libgvc6 redis-server
Learn more about Ubuntu Pro at https://ubuntu.com/pro
#
# An OpenSSL vulnerability has recently been fixed with USN-6188-1 & 6119-1:
# CVE-2023-2650: possible DoS translating ASN.1 object identifiers.
# Ensure you have updated the package to its latest version.
#
The following NEW packages will be installed:
  linux-headers-5.4.0-155 linux-headers-5.4.0-155-generic linux-image-5.4.0-155-generic linux-modules-5.4.0-155-generic
The following packages will be upgraded:
  apport bsdutils cloud-init fdisk fwupd fwupd-signed gcc-10-base grub-common grub-pc grub-pc-bin grub2-common iptables libatomic1 libblkid1 libcc1-0 libfdisk1
  libfwupd2 libfwupdplugin5 libgcc-s1 libgfortran5 libgomp1 libip4tc2 libip6tc2 libitm1 liblsan0 libmount1 libnss-systemd libpam-systemd libquadmath0
  libsmartcols1 libstdc++6 libsystemd0 libtsan0 libubsan1 libudev1 libuuid1 libxtables12 linux-headers-generic linux-headers-virtual linux-image-virtual
  linux-libc-dev linux-virtual mokutil mount nodejs open-iscsi open-vm-tools openssh-client openssh-server openssh-sftp-server python3-apport python3-debian
  python3-problem-report systemd systemd-sysv systemd-timesyncd tzdata ubuntu-advantage-tools udev util-linux uuid-runtime
61 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.
22 standard LTS security updates
Need to get 89.2 MB of archives.
After this operation, 179 MB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 bsdutils amd64 1:2.34-0.1ubuntu9.4 [63.0 kB]
Get:2 https://deb.nodesource.com/node_16.x focal/main amd64 nodejs amd64 16.20.1-deb-1nodesource1 [27.2 MB]
Get:3 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libblkid1 amd64 2.34-0.1ubuntu9.4 [137 kB]
Get:4 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libuuid1 amd64 2.34-0.1ubuntu9.4 [20.0 kB]
Get:5 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libfdisk1 amd64 2.34-0.1ubuntu9.4 [174 kB]
Get:6 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libmount1 amd64 2.34-0.1ubuntu9.4 [150 kB]
Get:7 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsmartcols1 amd64 2.34-0.1ubuntu9.4 [100 kB]
Get:8 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 fdisk amd64 2.34-0.1ubuntu9.4 [119 kB]
Get:9 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 util-linux amd64 2.34-0.1ubuntu9.4 [1021 kB]
Get:10 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libnss-systemd amd64 245.4-4ubuntu3.22 [95.8 kB]
Get:11 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 udev amd64 245.4-4ubuntu3.22 [1366 kB]
Get:12 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libudev1 amd64 245.4-4ubuntu3.22 [75.4 kB]
Get:13 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 systemd-sysv amd64 245.4-4ubuntu3.22 [10.3 kB]
Get:14 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 systemd-timesyncd amd64 245.4-4ubuntu3.22 [28.1 kB]
Get:15 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libpam-systemd amd64 245.4-4ubuntu3.22 [186 kB]
Get:16 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libxtables12 amd64 1.8.4-3ubuntu2.1 [28.7 kB]
Get:17 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 iptables amd64 1.8.4-3ubuntu2.1 [390 kB]
Get:18 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libip6tc2 amd64 1.8.4-3ubuntu2.1 [19.4 kB]
Get:19 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libip4tc2 amd64 1.8.4-3ubuntu2.1 [19.1 kB]
Get:20 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 mount amd64 2.34-0.1ubuntu9.4 [115 kB]
Get:21 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 systemd amd64 245.4-4ubuntu3.22 [3811 kB]
Get:22 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsystemd0 amd64 245.4-4ubuntu3.22 [267 kB]
Get:23 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 uuid-runtime amd64 2.34-0.1ubuntu9.4 [35.4 kB]
Get:24 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 open-iscsi amd64 2.0.874-7.1ubuntu6.4 [283 kB]
Get:25 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libatomic1 amd64 10.5.0-1ubuntu1~20.04 [9284 B]
Get:26 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libubsan1 amd64 10.5.0-1ubuntu1~20.04 [785 kB]
Get:27 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libtsan0 amd64 10.5.0-1ubuntu1~20.04 [2016 kB]
Get:28 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libquadmath0 amd64 10.5.0-1ubuntu1~20.04 [146 kB]
Get:29 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 liblsan0 amd64 10.5.0-1ubuntu1~20.04 [835 kB]
Get:30 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libitm1 amd64 10.5.0-1ubuntu1~20.04 [26.2 kB]
Get:31 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgomp1 amd64 10.5.0-1ubuntu1~20.04 [102 kB]
Get:32 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgfortran5 amd64 10.5.0-1ubuntu1~20.04 [737 kB]
Get:33 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gcc-10-base amd64 10.5.0-1ubuntu1~20.04 [20.8 kB]
Get:34 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgcc-s1 amd64 10.5.0-1ubuntu1~20.04 [41.8 kB]
Get:35 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libcc1-0 amd64 10.5.0-1ubuntu1~20.04 [48.8 kB]
Get:36 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libstdc++6 amd64 10.5.0-1ubuntu1~20.04 [501 kB]
Get:37 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 open-vm-tools amd64 2:11.3.0-2ubuntu0~ubuntu20.04.5 [648 kB]
Get:38 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 tzdata all 2023c-0ubuntu0.20.04.2 [301 kB]
Get:39 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 ubuntu-advantage-tools amd64 28.1~20.04 [179 kB]
Get:40 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 openssh-sftp-server amd64 1:8.2p1-4ubuntu0.8 [51.7 kB]
Get:41 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 openssh-server amd64 1:8.2p1-4ubuntu0.8 [377 kB]
Get:42 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 openssh-client amd64 1:8.2p1-4ubuntu0.8 [670 kB]
Get:43 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 grub-pc amd64 2.04-1ubuntu26.17 [125 kB]
Get:44 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 grub2-common amd64 2.04-1ubuntu26.17 [590 kB]
Get:45 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 grub-pc-bin amd64 2.04-1ubuntu26.17 [971 kB]
Get:46 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 grub-common amd64 2.04-1ubuntu26.17 [1872 kB]
Get:47 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-problem-report all 2.20.11-0ubuntu27.27 [11.2 kB]
Get:48 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-apport all 2.20.11-0ubuntu27.27 [86.9 kB]
Get:49 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 apport all 2.20.11-0ubuntu27.27 [129 kB]
Get:50 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 fwupd amd64 1.7.9-1~20.04.3 [2454 kB]
Get:51 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libfwupdplugin5 amd64 1.7.9-1~20.04.3 [170 kB]
Get:52 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libfwupd2 amd64 1.7.9-1~20.04.3 [91.9 kB]
Get:53 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 fwupd-signed amd64 1.51.1~20.04.1+1.4-0ubuntu0.1 [28.7 kB]
Get:54 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-headers-5.4.0-155 all 5.4.0-155.172 [11.0 MB]
Get:55 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-headers-5.4.0-155-generic amd64 5.4.0-155.172 [1341 kB]
Get:56 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-modules-5.4.0-155-generic amd64 5.4.0-155.172 [15.0 MB]
Get:57 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-image-5.4.0-155-generic amd64 5.4.0-155.172 [10.5 MB]
Get:58 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-virtual amd64 5.4.0.155.151 [1876 B]                                                      
Get:59 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-image-virtual amd64 5.4.0.155.151 [2576 B]                                                
Get:60 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-headers-virtual amd64 5.4.0.155.151 [1840 B]                                              
Get:61 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-headers-generic amd64 5.4.0.155.151 [2464 B]                                              
Get:62 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-libc-dev amd64 5.4.0-155.172 [1093 kB]                                                    
Get:63 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 mokutil amd64 0.6.0-2~20.04.1 [26.6 kB]                                                         
Get:64 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-debian all 0.1.36ubuntu1.1 [64.9 kB]                                                    
Get:65 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 cloud-init all 23.2.1-0ubuntu0~20.04.2 [532 kB]                                                 
Fetched 89.2 MB in 7s (12.6 MB/s)                                                                                                                                
Extracting templates from packages: 100%
Preconfiguring packages ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../bsdutils_1%3a2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking bsdutils (1:2.34-0.1ubuntu9.4) over (1:2.34-0.1ubuntu9.3) ...
Setting up bsdutils (1:2.34-0.1ubuntu9.4) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../libblkid1_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking libblkid1:amd64 (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Setting up libblkid1:amd64 (2.34-0.1ubuntu9.4) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../libuuid1_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking libuuid1:amd64 (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Setting up libuuid1:amd64 (2.34-0.1ubuntu9.4) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../libfdisk1_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking libfdisk1:amd64 (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Preparing to unpack .../libmount1_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking libmount1:amd64 (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Setting up libmount1:amd64 (2.34-0.1ubuntu9.4) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../libsmartcols1_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking libsmartcols1:amd64 (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Setting up libsmartcols1:amd64 (2.34-0.1ubuntu9.4) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../fdisk_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking fdisk (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Preparing to unpack .../util-linux_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking util-linux (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Setting up util-linux (2.34-0.1ubuntu9.4) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../libnss-systemd_245.4-4ubuntu3.22_amd64.deb ...
Unpacking libnss-systemd:amd64 (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Preparing to unpack .../udev_245.4-4ubuntu3.22_amd64.deb ...
Unpacking udev (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Preparing to unpack .../libudev1_245.4-4ubuntu3.22_amd64.deb ...
Unpacking libudev1:amd64 (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Setting up libudev1:amd64 (245.4-4ubuntu3.22) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../0-systemd-sysv_245.4-4ubuntu3.22_amd64.deb ...
Unpacking systemd-sysv (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Preparing to unpack .../1-systemd-timesyncd_245.4-4ubuntu3.22_amd64.deb ...
Unpacking systemd-timesyncd (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Preparing to unpack .../2-libpam-systemd_245.4-4ubuntu3.22_amd64.deb ...
Unpacking libpam-systemd:amd64 (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Preparing to unpack .../3-libxtables12_1.8.4-3ubuntu2.1_amd64.deb ...
Unpacking libxtables12:amd64 (1.8.4-3ubuntu2.1) over (1.8.4-3ubuntu2) ...
Preparing to unpack .../4-iptables_1.8.4-3ubuntu2.1_amd64.deb ...
Unpacking iptables (1.8.4-3ubuntu2.1) over (1.8.4-3ubuntu2) ...
Preparing to unpack .../5-libip6tc2_1.8.4-3ubuntu2.1_amd64.deb ...
Unpacking libip6tc2:amd64 (1.8.4-3ubuntu2.1) over (1.8.4-3ubuntu2) ...
Preparing to unpack .../6-libip4tc2_1.8.4-3ubuntu2.1_amd64.deb ...
Unpacking libip4tc2:amd64 (1.8.4-3ubuntu2.1) over (1.8.4-3ubuntu2) ...
Preparing to unpack .../7-mount_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking mount (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Preparing to unpack .../8-systemd_245.4-4ubuntu3.22_amd64.deb ...
Unpacking systemd (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Preparing to unpack .../9-libsystemd0_245.4-4ubuntu3.22_amd64.deb ...
Unpacking libsystemd0:amd64 (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...
Setting up libsystemd0:amd64 (245.4-4ubuntu3.22) ...
(Reading database ... 123805 files and directories currently installed.)
Preparing to unpack .../00-uuid-runtime_2.34-0.1ubuntu9.4_amd64.deb ...
Unpacking uuid-runtime (2.34-0.1ubuntu9.4) over (2.34-0.1ubuntu9.3) ...
Preparing to unpack .../01-open-iscsi_2.0.874-7.1ubuntu6.4_amd64.deb ...
Unpacking open-iscsi (2.0.874-7.1ubuntu6.4) over (2.0.874-7.1ubuntu6.3) ...
Preparing to unpack .../02-libatomic1_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libatomic1:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../03-libubsan1_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libubsan1:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../04-libtsan0_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libtsan0:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../05-libquadmath0_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libquadmath0:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../06-liblsan0_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking liblsan0:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../07-libitm1_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libitm1:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../08-libgomp1_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libgomp1:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../09-libgfortran5_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libgfortran5:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../10-gcc-10-base_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking gcc-10-base:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Setting up gcc-10-base:amd64 (10.5.0-1ubuntu1~20.04) ...
(Reading database ... 123804 files and directories currently installed.)
Preparing to unpack .../libgcc-s1_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libgcc-s1:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Setting up libgcc-s1:amd64 (10.5.0-1ubuntu1~20.04) ...
(Reading database ... 123804 files and directories currently installed.)
Preparing to unpack .../libcc1-0_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libcc1-0:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Preparing to unpack .../libstdc++6_10.5.0-1ubuntu1~20.04_amd64.deb ...
Unpacking libstdc++6:amd64 (10.5.0-1ubuntu1~20.04) over (10.3.0-1ubuntu1~20.04) ...
Setting up libstdc++6:amd64 (10.5.0-1ubuntu1~20.04) ...
(Reading database ... 123804 files and directories currently installed.)
Preparing to unpack .../00-open-vm-tools_2%3a11.3.0-2ubuntu0~ubuntu20.04.5_amd64.deb ...
Unpacking open-vm-tools (2:11.3.0-2ubuntu0~ubuntu20.04.5) over (2:11.3.0-2ubuntu0~ubuntu20.04.4) ...
Preparing to unpack .../01-tzdata_2023c-0ubuntu0.20.04.2_all.deb ...
Unpacking tzdata (2023c-0ubuntu0.20.04.2) over (2023c-0ubuntu0.20.04.1) ...
Preparing to unpack .../02-ubuntu-advantage-tools_28.1~20.04_amd64.deb ...
Unpacking ubuntu-advantage-tools (28.1~20.04) over (27.14.4~20.04) ...
Preparing to unpack .../03-openssh-sftp-server_1%3a8.2p1-4ubuntu0.8_amd64.deb ...
Unpacking openssh-sftp-server (1:8.2p1-4ubuntu0.8) over (1:8.2p1-4ubuntu0.5) ...
Preparing to unpack .../04-openssh-server_1%3a8.2p1-4ubuntu0.8_amd64.deb ...
Unpacking openssh-server (1:8.2p1-4ubuntu0.8) over (1:8.2p1-4ubuntu0.5) ...
Preparing to unpack .../05-openssh-client_1%3a8.2p1-4ubuntu0.8_amd64.deb ...
Unpacking openssh-client (1:8.2p1-4ubuntu0.8) over (1:8.2p1-4ubuntu0.5) ...
Preparing to unpack .../06-grub-pc_2.04-1ubuntu26.17_amd64.deb ...
Unpacking grub-pc (2.04-1ubuntu26.17) over (2.04-1ubuntu26.16) ...
Preparing to unpack .../07-grub2-common_2.04-1ubuntu26.17_amd64.deb ...
Unpacking grub2-common (2.04-1ubuntu26.17) over (2.04-1ubuntu26.16) ...
Preparing to unpack .../08-grub-pc-bin_2.04-1ubuntu26.17_amd64.deb ...
Unpacking grub-pc-bin (2.04-1ubuntu26.17) over (2.04-1ubuntu26.16) ...
Preparing to unpack .../09-grub-common_2.04-1ubuntu26.17_amd64.deb ...
Unpacking grub-common (2.04-1ubuntu26.17) over (2.04-1ubuntu26.16) ...
Preparing to unpack .../10-python3-problem-report_2.20.11-0ubuntu27.27_all.deb ...
Unpacking python3-problem-report (2.20.11-0ubuntu27.27) over (2.20.11-0ubuntu27.26) ...
Preparing to unpack .../11-python3-apport_2.20.11-0ubuntu27.27_all.deb ...
Unpacking python3-apport (2.20.11-0ubuntu27.27) over (2.20.11-0ubuntu27.26) ...
Preparing to unpack .../12-apport_2.20.11-0ubuntu27.27_all.deb ...
Unpacking apport (2.20.11-0ubuntu27.27) over (2.20.11-0ubuntu27.26) ...
Preparing to unpack .../13-fwupd_1.7.9-1~20.04.3_amd64.deb ...
Unpacking fwupd (1.7.9-1~20.04.3) over (1.7.9-1~20.04.1) ...
Preparing to unpack .../14-libfwupdplugin5_1.7.9-1~20.04.3_amd64.deb ...
Unpacking libfwupdplugin5:amd64 (1.7.9-1~20.04.3) over (1.7.9-1~20.04.1) ...
Preparing to unpack .../15-libfwupd2_1.7.9-1~20.04.3_amd64.deb ...
Unpacking libfwupd2:amd64 (1.7.9-1~20.04.3) over (1.7.9-1~20.04.1) ...
Preparing to unpack .../16-fwupd-signed_1.51.1~20.04.1+1.4-0ubuntu0.1_amd64.deb ...
Unpacking fwupd-signed (1.51.1~20.04.1+1.4-0ubuntu0.1) over (1.51~20.04.1+1.2-3ubuntu0.2) ...
Selecting previously unselected package linux-headers-5.4.0-155.
Preparing to unpack .../17-linux-headers-5.4.0-155_5.4.0-155.172_all.deb ...
Unpacking linux-headers-5.4.0-155 (5.4.0-155.172) ...
Selecting previously unselected package linux-headers-5.4.0-155-generic.
Preparing to unpack .../18-linux-headers-5.4.0-155-generic_5.4.0-155.172_amd64.deb ...
Unpacking linux-headers-5.4.0-155-generic (5.4.0-155.172) ...
Selecting previously unselected package linux-modules-5.4.0-155-generic.
Preparing to unpack .../19-linux-modules-5.4.0-155-generic_5.4.0-155.172_amd64.deb ...
Unpacking linux-modules-5.4.0-155-generic (5.4.0-155.172) ...
Selecting previously unselected package linux-image-5.4.0-155-generic.
Preparing to unpack .../20-linux-image-5.4.0-155-generic_5.4.0-155.172_amd64.deb ...
Unpacking linux-image-5.4.0-155-generic (5.4.0-155.172) ...
Preparing to unpack .../21-linux-virtual_5.4.0.155.151_amd64.deb ...
Unpacking linux-virtual (5.4.0.155.151) over (5.4.0.153.150) ...
Preparing to unpack .../22-linux-image-virtual_5.4.0.155.151_amd64.deb ...
Unpacking linux-image-virtual (5.4.0.155.151) over (5.4.0.153.150) ...
Preparing to unpack .../23-linux-headers-virtual_5.4.0.155.151_amd64.deb ...
Unpacking linux-headers-virtual (5.4.0.155.151) over (5.4.0.153.150) ...
Preparing to unpack .../24-linux-headers-generic_5.4.0.155.151_amd64.deb ...
Unpacking linux-headers-generic (5.4.0.155.151) over (5.4.0.153.150) ...
Preparing to unpack .../25-linux-libc-dev_5.4.0-155.172_amd64.deb ...
Unpacking linux-libc-dev:amd64 (5.4.0-155.172) over (5.4.0-153.170) ...
Preparing to unpack .../26-mokutil_0.6.0-2~20.04.1_amd64.deb ...
Unpacking mokutil (0.6.0-2~20.04.1) over (0.3.0+1538710437.fb6250f-1) ...
Preparing to unpack .../27-nodejs_16.20.1-deb-1nodesource1_amd64.deb ...
Unpacking nodejs (16.20.1-deb-1nodesource1) over (16.20.0-deb-1nodesource1) ...
Preparing to unpack .../28-python3-debian_0.1.36ubuntu1.1_all.deb ...
Unpacking python3-debian (0.1.36ubuntu1.1) over (0.1.36ubuntu1) ...
Preparing to unpack .../29-cloud-init_23.2.1-0ubuntu0~20.04.2_all.deb ...
Unpacking cloud-init (23.2.1-0ubuntu0~20.04.2) over (23.1.2-0ubuntu0~20.04.2) ...
dpkg: warning: unable to delete old directory '/etc/NetworkManager/dispatcher.d': Directory not empty
dpkg: warning: unable to delete old directory '/etc/NetworkManager': Directory not empty
Setting up libip4tc2:amd64 (1.8.4-3ubuntu2.1) ...
Setting up cloud-init (23.2.1-0ubuntu0~20.04.2) ...
Installing new version of config file /etc/cloud/cloud.cfg ...
Installing new version of config file /etc/cloud/templates/chrony.conf.alpine.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.centos.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.cos.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.debian.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.fedora.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.freebsd.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.opensuse-leap.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.opensuse-microos.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.opensuse-tumbleweed.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.opensuse.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.photon.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.rhel.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.sle-micro.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.sle_hpc.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.sles.tmpl ...
Installing new version of config file /etc/cloud/templates/chrony.conf.ubuntu.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.alpine.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.debian.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.fedora.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.freebsd.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.opensuse.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.photon.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.rhel.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.sles.tmpl ...
Installing new version of config file /etc/cloud/templates/ntp.conf.ubuntu.tmpl ...
Installing new version of config file /etc/cloud/templates/ntpd.conf.openbsd.tmpl ...
Setting up mokutil (0.6.0-2~20.04.1) ...
Setting up linux-headers-5.4.0-155 (5.4.0-155.172) ...
Setting up python3-problem-report (2.20.11-0ubuntu27.27) ...
Setting up libip6tc2:amd64 (1.8.4-3ubuntu2.1) ...
Setting up openssh-client (1:8.2p1-4ubuntu0.8) ...
Setting up libfwupd2:amd64 (1.7.9-1~20.04.3) ...
Setting up linux-libc-dev:amd64 (5.4.0-155.172) ...
Setting up fwupd-signed (1.51.1~20.04.1+1.4-0ubuntu0.1) ...
Setting up linux-modules-5.4.0-155-generic (5.4.0-155.172) ...
Setting up libgomp1:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up nodejs (16.20.1-deb-1nodesource1) ...
Setting up python3-apport (2.20.11-0ubuntu27.27) ...
Setting up tzdata (2023c-0ubuntu0.20.04.2) ...

Current default time zone: 'Europe/Rome'
Local time is now:      Mon Jul 31 17:21:07 CEST 2023.
Universal Time is now:  Mon Jul 31 15:21:07 UTC 2023.
Run 'dpkg-reconfigure tzdata' if you wish to change it.

Setting up grub-common (2.04-1ubuntu26.17) ...
Installing new version of config file /etc/grub.d/20_linux_xen ...
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
Setting up python3-debian (0.1.36ubuntu1.1) ...
Setting up libquadmath0:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up libatomic1:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up udev (245.4-4ubuntu3.22) ...
update-initramfs: deferring update (trigger activated)
Setting up libxtables12:amd64 (1.8.4-3ubuntu2.1) ...
Setting up libgfortran5:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up libfdisk1:amd64 (2.34-0.1ubuntu9.4) ...
Setting up libubsan1:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up mount (2.34-0.1ubuntu9.4) ...
Setting up open-vm-tools (2:11.3.0-2ubuntu0~ubuntu20.04.5) ...
Setting up uuid-runtime (2.34-0.1ubuntu9.4) ...
Setting up ubuntu-advantage-tools (28.1~20.04) ...
Setting up linux-image-5.4.0-155-generic (5.4.0-155.172) ...
I: /boot/vmlinuz.old is now a symlink to vmlinuz-5.4.0-153-generic
I: /boot/initrd.img.old is now a symlink to initrd.img-5.4.0-153-generic
I: /boot/vmlinuz is now a symlink to vmlinuz-5.4.0-155-generic
I: /boot/initrd.img is now a symlink to initrd.img-5.4.0-155-generic
Setting up linux-image-virtual (5.4.0.155.151) ...
Setting up libfwupdplugin5:amd64 (1.7.9-1~20.04.3) ...
Setting up libcc1-0:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up fwupd (1.7.9-1~20.04.3) ...
fwupd-offline-update.service is a disabled or a static unit not running, not starting it.
fwupd-refresh.service is a disabled or a static unit not running, not starting it.
fwupd.service is a disabled or a static unit not running, not starting it.
Setting up liblsan0:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up libitm1:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up libtsan0:amd64 (10.5.0-1ubuntu1~20.04) ...
Setting up linux-headers-5.4.0-155-generic (5.4.0-155.172) ...
Setting up openssh-sftp-server (1:8.2p1-4ubuntu0.8) ...
Setting up openssh-server (1:8.2p1-4ubuntu0.8) ...
rescue-ssh.target is a disabled or a static unit, not starting it.
Setting up grub2-common (2.04-1ubuntu26.17) ...
Setting up iptables (1.8.4-3ubuntu2.1) ...
Setting up linux-headers-generic (5.4.0.155.151) ...
Setting up grub-pc-bin (2.04-1ubuntu26.17) ...
Setting up open-iscsi (2.0.874-7.1ubuntu6.4) ...
grep: /lib/modules-load.d/open-iscsi.conf: No such file or directory
Setting up apport (2.20.11-0ubuntu27.27) ...
apport-autoreport.service is a disabled or a static unit, not starting it.
Setting up fdisk (2.34-0.1ubuntu9.4) ...
Setting up grub-pc (2.04-1ubuntu26.17) ...
Sourcing file `/etc/default/grub'
Sourcing file `/etc/default/grub.d/50-cloudimg-settings.cfg'
Sourcing file `/etc/default/grub.d/init-select.cfg'
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-5.4.0-155-generic
Found linux image: /boot/vmlinuz-5.4.0-153-generic
Found initrd image: /boot/initrd.img-5.4.0-153-generic
Found linux image: /boot/vmlinuz-5.4.0-99-generic
Found initrd image: /boot/initrd.img-5.4.0-99-generic
Adding boot menu entry for UEFI Firmware Settings
done
Setting up linux-headers-virtual (5.4.0.155.151) ...
Setting up linux-virtual (5.4.0.155.151) ...
Setting up systemd (245.4-4ubuntu3.22) ...
Setting up systemd-timesyncd (245.4-4ubuntu3.22) ...
Setting up systemd-sysv (245.4-4ubuntu3.22) ...
Setting up libnss-systemd:amd64 (245.4-4ubuntu3.22) ...
Setting up libpam-systemd:amd64 (245.4-4ubuntu3.22) ...
Processing triggers for install-info (6.7.0.dfsg.2-5) ...
Processing triggers for mime-support (3.64ubuntu1) ...
Processing triggers for initramfs-tools (0.136ubuntu6.7) ...
update-initramfs: Generating /boot/initrd.img-5.4.0-153-generic
Processing triggers for hicolor-icon-theme (0.17-2) ...
Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
Processing triggers for rsyslog (8.2001.0-1ubuntu1.3) ...
Processing triggers for ufw (0.36-6ubuntu1) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for dbus (1.12.16-2ubuntu2.3) ...
Processing triggers for linux-image-5.4.0-155-generic (5.4.0-155.172) ...
/etc/kernel/postinst.d/initramfs-tools:
update-initramfs: Generating /boot/initrd.img-5.4.0-155-generic
/etc/kernel/postinst.d/zz-update-grub:
Sourcing file `/etc/default/grub'
Sourcing file `/etc/default/grub.d/50-cloudimg-settings.cfg'
Sourcing file `/etc/default/grub.d/init-select.cfg'
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-5.4.0-155-generic
Found initrd image: /boot/initrd.img-5.4.0-155-generic
Found linux image: /boot/vmlinuz-5.4.0-153-generic
Found initrd image: /boot/initrd.img-5.4.0-153-generic
Found linux image: /boot/vmlinuz-5.4.0-99-generic
Found initrd image: /boot/initrd.img-5.4.0-99-generic
Adding boot menu entry for UEFI Firmware Settings
done
ubuntu@ubuntufla:~ $
```
