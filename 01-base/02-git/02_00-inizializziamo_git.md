# <a name="top"></a> Cap 2.2 - Inizializziamo Git

Version Control System. Un gestore che controlla le versioni del software in fase di sviluppo.



## Risorse interne:

- 99-rails_references-git_github-git



## Inizializziamo

Da rails 7.0 git è inizializzato in automatico. Se entriamo nella directory del nostro nuovo applicativo, vediamo che c'è la cartella **nascosta** *.git*.

```bash
$ cd ~/bl7_0
$ ls -a
```

Esempio:

```bash
ubuntu@ubuntufla:~/bl7_0$ ls -a
.   .git            .gitignore     Gemfile       README.md  app  config     db   log     storage  tmp
..  .gitattributes  .ruby-version  Gemfile.lock  Rakefile   bin  config.ru  lib  public  test     vendor
ubuntu@ubuntufla:~/bl7_0$ 
```

Altrimenti avremmo dovuto inizializzare git con il comando **$ git init**

> **ATTENZIONE:** 
> Per l'inizializzazione ricordiamoci di entrare nella directory del nostro nuovo applicativo **bl7_0** altrimenti si inizializza git per tutto il workspace e questo è un problema per quando si fa il push su heroku.
> Questo genera anche la cartella nascosta git ed i vari files tra cui gitignore.



## La configurazione globale 

Verifichiamo la configurazione globale di git che è utilizzata per i repository esterni quali Github, Heroku, Gitbuchet, ...

```bash
$ git config -l
```

Esempio:
  
```bash
ubuntu@ubuntufla:~/bl7_0$ git config -l
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
ubuntu@ubuntufla:~/bl7_0$ 
```

Essendo la prima configurazione del sistema, prima di usare Git, dobbiamo eseguire un paio di passaggi di configurazione una tantum.
Queste sono le impostazioni di sistema, il che significa che dobbiamo eseguirle una sola volta per computer.

```bash
$ git config --global user.name "My Name"
$ git config --global user.email "my@email.com"
```

Esempio:

```bash
ubuntu@ubuntufla:~/bl7_0$ git config --global user.name "My Name"
ubuntu@ubuntufla:~/bl7_0$ git config --global user.email "my@email.com"
ubuntu@ubuntufla:~/bl7_0$ git config -l
user.name=My Name
user.email=my@email.com
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
ubuntu@ubuntufla:~/bl7_0$ 
```

> Più avanti quando attiveremo GitHub useremo la stessa email usata qui. <br/>
> Tieni presente che il nome e l'indirizzo email che utilizzi nella configurazione di Git saranno disponibili in tutti i repository che rendi pubblici.



## Verifichiamo i file da escludere da git

Nel file *.../.gitignore* possiamo vedere tutti i files che sono esclusi da git. Questi files non entreranno a far parte del versioning.
Sono ad esempio i files temporanei o quelli di log o file di configurazione di pacchetti accessori, o il file con la chiave di crittatura che non voglio rendere disponibile nei vari repositories di git.
Al momento lasciamo il gitignore di default.

***Codice 01 - .../.gitignore - line: 1***

```bash
# See https://help.github.com/articles/ignoring-files for more about ignoring files.
#
# If you find yourself ignoring temporary files generated by your text editor
# or operating system, you probably want to add a global ignore instead:
#   git config --global core.excludesfile '~/.gitignore_global'

# Ignore bundler config.
/.bundle

# Ignore all logfiles and tempfiles.
/log/*
/tmp/*
!/log/.keep
!/tmp/.keep

# Ignore pidfiles, but keep the directory.
/tmp/pids/*
!/tmp/pids/
!/tmp/pids/.keep

# Ignore uploaded files in development.
/storage/*
!/storage/.keep
/tmp/storage/*
!/tmp/storage/
!/tmp/storage/.keep

/public/assets

# Ignore master key for decrypting credentials and more.
/config/master.key
```

[tutto il codice](https://github.com/flaviobordonidev/leanpubabrandnewcms/blob/master/01-base/02-git/02_01-.gitignore)



## Versione iniziale v0.1.0

Effettuiamo il primo commit ed il primo tag.

```bash
$ git add -A
$ git commit -m "new rails app"

$ git tag v0.1.0
```

Il tag ci permette di distingure delle "pietre miliari" durante lo sviluppo. Tappe che vengono identificate da un cambio del numero della versione.
Per il numero della versione seguiamo le convenzioni del [semantic versioning](https://semver.org/).

Esempio:

```bash
ubuntu@ubuntufla:~/bl7_0$ git add -A
ubuntu@ubuntufla:~/bl7_0$ git commit -m "new rails app"
[main (root-commit) 2c977e0] new rails app
 79 files changed, 1448 insertions(+)
 create mode 100644 .gitattributes
 create mode 100644 .gitignore
 create mode 100644 .ruby-version
 create mode 100644 Gemfile
 create mode 100644 Gemfile.lock
 create mode 100644 README.md
 create mode 100644 Rakefile
 create mode 100644 app/assets/config/manifest.js
 create mode 100644 app/assets/images/.keep
 create mode 100644 app/assets/stylesheets/application.css
 create mode 100644 app/channels/application_cable/channel.rb
 create mode 100644 app/channels/application_cable/connection.rb
 create mode 100644 app/controllers/application_controller.rb
 create mode 100644 app/controllers/concerns/.keep
 create mode 100644 app/helpers/application_helper.rb
 create mode 100644 app/javascript/application.js
 create mode 100644 app/javascript/controllers/application.js
 create mode 100644 app/javascript/controllers/hello_controller.js
 create mode 100644 app/javascript/controllers/index.js
 create mode 100644 app/jobs/application_job.rb
 create mode 100644 app/mailers/application_mailer.rb
 create mode 100644 app/models/application_record.rb
 create mode 100644 app/models/concerns/.keep
 create mode 100644 app/views/layouts/application.html.erb
 create mode 100644 app/views/layouts/mailer.html.erb
 create mode 100644 app/views/layouts/mailer.text.erb
 create mode 100755 bin/bundle
 create mode 100755 bin/importmap
 create mode 100755 bin/rails
 create mode 100755 bin/rake
 create mode 100755 bin/setup
 create mode 100644 config.ru
 create mode 100644 config/application.rb
 create mode 100644 config/boot.rb
 create mode 100644 config/cable.yml
 create mode 100644 config/credentials.yml.enc
 create mode 100644 config/database.yml
 create mode 100644 config/environment.rb
 create mode 100644 config/environments/development.rb
 create mode 100644 config/environments/production.rb
 create mode 100644 config/environments/test.rb
 create mode 100644 config/importmap.rb
 create mode 100644 config/initializers/assets.rb
 create mode 100644 config/initializers/content_security_policy.rb
 create mode 100644 config/initializers/filter_parameter_logging.rb
 create mode 100644 config/initializers/inflections.rb
 create mode 100644 config/initializers/permissions_policy.rb
 create mode 100644 config/locales/en.yml
 create mode 100644 config/puma.rb
 create mode 100644 config/routes.rb
 create mode 100644 config/storage.yml
 create mode 100644 db/schema.rb
 create mode 100644 db/seeds.rb
 create mode 100644 lib/assets/.keep
 create mode 100644 lib/tasks/.keep
 create mode 100644 log/.keep
 create mode 100644 public/404.html
 create mode 100644 public/422.html
 create mode 100644 public/500.html
 create mode 100644 public/apple-touch-icon-precomposed.png
 create mode 100644 public/apple-touch-icon.png
 create mode 100644 public/favicon.ico
 create mode 100644 public/robots.txt
 create mode 100644 storage/.keep
 create mode 100644 test/application_system_test_case.rb
 create mode 100644 test/channels/application_cable/connection_test.rb
 create mode 100644 test/controllers/.keep
 create mode 100644 test/fixtures/files/.keep
 create mode 100644 test/helpers/.keep
 create mode 100644 test/integration/.keep
 create mode 100644 test/mailers/.keep
 create mode 100644 test/models/.keep
 create mode 100644 test/system/.keep
 create mode 100644 test/test_helper.rb
 create mode 100644 tmp/.keep
 create mode 100644 tmp/pids/.keep
 create mode 100644 tmp/storage/.keep
 create mode 100644 vendor/.keep
 create mode 100644 vendor/javascript/.keep
ubuntu@ubuntufla:~/bl7_0$ git tag v0.1.0
ubuntu@ubuntufla:~/bl7_0$ 
```



---

[<- back](https://github.com/flaviobordonidev/leanpubabrandnewcms/blob/master/01-base/02-git/01_00-git_story.md)
 | [top](#top) |
[next ->](https://github.com/flaviobordonidev/leanpubabrandnewcms/blob/master/01-base/02-git/03_00-daily_routine.md)
