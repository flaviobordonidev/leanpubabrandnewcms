# <a name="top"></a> Cap 2.2 -- Inizializziamo Git

Version Control System. Un gestore che controlla le versioni del software in fase di sviluppo.



## Risorse interne:

- 99-rails_references-git_github-git



## Inizializziamo

Da rails 7.0 git è inizializzato in automatico. Se entriamo nella directory del nostro nuovo applicativo.

```bash
$ cd bl7_0
```

Vediamo che c'è la cartella **nascosta** *.git*.

```bash
$ ls -a
```

> Per vedere possiamo visualizzare i files nascosti dalla ruota dentata al lato del nome del workspace scegliendo dal menu a discesa la voce "show hidden files"

![fig01](https://github.com/flaviobordonidev/leanpubabrandnewcms/blob/master/01-base/02-git/02_fig01-show_hidden_files.png)

Oppure da terminale

```bash
$ ls -a
```

Esempio:

```bash
user_fb:~/environment/bl7_0 (main) $ ls -a
.   .git            .gitignore     Gemfile       README.md  app  config     db   log     storage  tmp
..  .gitattributes  .ruby-version  Gemfile.lock  Rakefile   bin  config.ru  lib  public  test     vendor
user_fb:~/environment/bl7_0 (main) $ 
```

Altrimenti avremmo dovuto inizializzare git con il comando **$ git init**

> **ATTENZIONE:** 
> Per l'inizializzazione ricordiamoci di entrare nella directory del nostro nuovo applicativo **bl7_0** altrimenti si inizializza git per tutto il workspace e questo è un problema per quando si fa il push su heroku.
> Questo genera anche la cartella nascosta git ed i vari files tra cui gitignore.



## La configurazione globale 

Verifichiamo la configurazione globale di git che è utilizzata per i repository esterni quali Github, Heroku, Gitbuchet, ...

```bash
$ git config -l
```

Esempio:
  
```bash
user_fb:~/environment/bl7_0 (main) $ git config -l
credential.helper=!aws codecommit credential-helper $@
credential.usehttppath=true
core.editor=nano
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
user_fb:~/environment/bl7_0 (main) $ 
```

Essendo la prima configurazione del sistema, prima di usare Git, dobbiamo eseguire un paio di passaggi di configurazione una tantum.
Queste sono le impostazioni di sistema, il che significa che dobbiamo eseguirle una sola volta per computer.

```bash
$ git config --global user.name "My Name"
$ git config --global user.email "my@email.com"
```

Esempio:

```bash
user_fb:~/environment/bl7_0 (main) $ git config --global user.name "My Name"
user_fb:~/environment/bl7_0 (main) $ git config --global user.email "my@email.com"
user_fb:~/environment/bl7_0 (main) $ git config -l
credential.helper=!aws codecommit credential-helper $@
credential.usehttppath=true
core.editor=nano
user.name=My Name
user.email=my@email.com
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
user_fb:~/environment/bl7_0 (main) $ 
```

> Più avanti quando attiveremo GitHub useremo la stessa email usata qui.
>
> Tieni presente che il nome e l'indirizzo email che utilizzi nella configurazione di Git saranno disponibili in tutti i repository che rendi pubblici.



## Verifichiamo i file da escludere da git

Nel file " .../.gitignore " possiamo vedere tutti i files che sono esclusi da git. Questi files non entreranno a far parte del versioning.
Sono ad esempio i files temporanei o quelli di log o file di configurazione di pacchetti accessori, o il file con la chiave di crittatura che non voglio rendere disponibile nei vari repositories di git. 
Al momento lasciamo il gitignore di default.

{caption: ".../.gitignore -- codice 01", format: yaml, line-numbers: true, number-from: 1}
```
# See https://help.github.com/articles/ignoring-files for more about ignoring files.
#
# If you find yourself ignoring temporary files generated by your text editor
# or operating system, you probably want to add a global ignore instead:
#   git config --global core.excludesfile '~/.gitignore_global'

# Ignore bundler config.
/.bundle

# Ignore all logfiles and tempfiles.
/log/*
/tmp/*
!/log/.keep
!/tmp/.keep

# Ignore uploaded files in development.
/storage/*
!/storage/.keep

/public/assets
.byebug_history

# Ignore master key for decrypting credentials and more.
/config/master.key

/public/packs
/public/packs-test
/node_modules
/yarn-error.log
yarn-debug.log*
.yarn-integrity
```




## Versione iniziale v0.1.0

Effettuiamo il primo commit ed eseguiamo anche il tag v.0.1.0 in accordo con la convenzione del [semantic versioning](http://semver.org)

{caption: "terminal", format: bash, line-numbers: false}
```
$ git add -A
$ git commit -m "new rails app"

$ git tag v0.1.0
```

il tag ci permette di distingure delle "pietre miliari" durante lo sviluppo. Tappe che vengono identificate da un cambio del numero della versione.
Il numero di versione segue le convenzioni del semantic versioning.
