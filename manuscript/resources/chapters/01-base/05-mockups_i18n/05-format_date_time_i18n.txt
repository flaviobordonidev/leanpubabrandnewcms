# Tradurre le date

Di default il comando di formattazione della data prende i nomi in inglese. Vediamo come implementare l'Italiano.

Risorse interne:

* 99-rails_references/i18n/02-format_date_time_i18n




## Trasliamo i parametri di default di Rails per il nostro locale (it.yml)

{id="01-05-01_01", title=".../config/locales/it.yml", lang=yaml, line-numbers=on, starting-line-number=4}
~~~~~~~~
it:

# variabili globali prese da https://github.com/svenfuchs/rails-i18n/blob/master/rails/locale/it.yml
  activerecord:
    errors:
      messages:
        record_invalid: 'Validazione fallita: %{errors}'
        restrict_dependent_destroy:
          has_one: Il record non può essere cancellato perchè esiste un %{record}
            dipendente
          has_many: Il record non può essere cancellato perchè esistono %{record}
            dipendenti
  date:
    abbr_day_names:
    - dom
    - lun
    - mar
    - mer
    - gio
    - ven
    - sab
    abbr_month_names:
    - 
    - gen
    - feb
    - mar
    - apr
    - mag
    - giu
    - lug
    - ago
    - set
    - ott
    - nov
    - dic
~~~~~~~~

[Codice 01](#01-05-01_01all)


## Traduciamo la stringa 

per formattare in italiano la data possiamo usare le stesse variabili di " strftime " all'interno del nostro locale (it.yml)

{id="01-05-01_01", title=".../config/locales/it.yml", lang=yaml, line-numbers=on, starting-line-number=4}
~~~~~~~~
  time:
    formats:
      short: "ora %d %^B %Y" 
~~~~~~~~

[Codice 01](#01-05-01_01all)


e richiamiamo la formattazione con l'helper " l "

{title=".../app/views/posts/_pofo_page_title_section2.html.erb", lang=HTML+Mako, line-numbers=on, starting-line-number=12}
~~~~~~~~
<%#= @post.published_at.strftime("%d %^B %Y") %>
<%= l @post.published_at, format: :short %>
~~~~~~~~

[Codice 06](#02-06-01_01all)

Per approfondimenti sulle variabili di formattazione vedi [Volume 1 - Cap 3.3](#01-base-03-mockups-03-format_date_time)





**

Meglio non usare " Time.now " perché ha un bug nella gestione dei fusi orari. (vedi 99-rails_references/data_types/date_time)

~~~~~~~~
  <%#= l Time.now, format: :short %>
~~~~~~~~

Invece usiamo " DateTime.current " che gestisce meglio tutto.

~~~~~~~~
  <%#= l DateTime.current, format: :short %>
~~~~~~~~
