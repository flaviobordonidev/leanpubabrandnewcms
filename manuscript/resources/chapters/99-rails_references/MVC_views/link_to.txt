# link_to sui views


Risorse web:

* [Articolo simpatico per LINK_TO](https://mixandgo.com/blog/how-to-use-link_to-in-rails)



il comando link_to per creare dei link è uno dei più usati su rails. Ci sono molti esempi sugli usi ma in questo capitolo scopriremo degli usi meno noti nei forum ma molto usati nella vita reale.


https://github.com/flaviobordonidev/yesnormalis/blob/master/app/views/company_person_maps/edit/_tab_edit.html.erb

<%#= link_to company_person_maps_select_path(id: params[:id], company_person_maps: {person_id: @company_person_map.person_id, company_id: @company_person_map.company_id}, related: "companies", page: 1, search: ""), :class => "list-group-item" do %>
<%#= link_to [@company_person_map.company, related: "companies", page: 1, search: ""], :class => "list-group-item" do %>
<%= link_to companies_path(related: "companies", page: 1, search: ""), :class => "list-group-item" do %>



----
se passo i parametri con params[] uso l'helper ** h_params_path ** (vedi elisinfo5)



---

se passo i parametri con session[] sul controller uso ** after_action :set_session_last_front ** (vedi yesnormalis)


Quindi sul controller togliamo index dall'after_action.
Iniziamo dal lato people

{title="controllers/people_controller.rb", lang=ruby, line-numbers=on, starting-line-number=3}
~~~~~~~~
after_action :set_session_last_front, only: [:show]
~~~~~~~~




## When we need to have a hyper link to an id in the same page

given that your html id is #my_id

<%= link_to('Click here to do to my_id', :anchor => 'my_id') %>
<div id="my_id"></div>

https://mixandgo.com/blog/how-to-use-link_to-in-rails

Anchors with link_to
You might need to point to a specific section (anchor) in the page which you can identify by it’s dom ID. So let’s say on the target page we have a section that has the id="interesting-section". In order to point our link to that section, we’ll need to add the anchor to the generated link.

<%= link_to "Section", root_path(:anchor => "interesting-section") %>
# => <a href="/#interesting-section">Section</a>




## Links che puntano a azione specifica

  questo paragrafo è interessante per creare dei links che puntano ad un'azione specifica da far fare al controller. Potrebbe essere anche non legata alla view.
  Ad esempio si può mettere un link per fare un aggiornamento dei dati " get 'data_sync' => 'transactions#sync_db_via_ftp' (vedi Donamat Dashboard)
  
  ## Verifichiamo gli instradamenti dei links
  
  Giochiamo un po' con le routes. Aggiungiamo i percorsi "sections" e "signatures" ma al momento li leghiamo alle pagine di examples
    
  {id="02-03-02_03", title=".../config/routes.rb", lang=ruby, line-numbers=on, starting-line-number=9}
  ```
    get 'sections' => 'mockups#page_a'
    get 'signatures' => 'mockups#page_b'
    get 'mockups/page_a'
    get 'mockups/page_b'
  ```
  
  [Codice 03](#02-03-02_03all)
  
  Così possiamo andare nella stessa pagina sia con il percorso di default mydomain.com/example_pages/page_c sia con mydomain.com/signatures



## Esempio Stack Overflow 1

* https://stackoverflow.com/questions/28099203/link-to-post-edit-view-in-rails

Really basic question about link_to that I'm having trouble finding a straight answer to.

So I have an index view that simply lists posts according to user email address.

```
<% @post.each do |post| %>
  <tr>
    <td class="email"><%= link_to post.user.email, post %></td>
  </tr>
<% end %>
```

As it stands, this links to the show view for the given post. How might I make it link to the edit view instead?

Pretty simple:

<%= link_to post.user.email, edit_post_path(post) %>