# Nuova app Rails 5 utilizzando Cloud9 workspace


## Installiamo Rails 5

Per installare Rails carichiamo la corrispondente gemma ruby.

I> verifichiamo [l'ultima versione della gemma](https://rubygems.org/gems/rails)
I>
I> facciamo riferimento al [tutorial della gemma](https://rubyonrails.org/)

Poiché pubblicheremo in produzione la nostra applicazione su Heroku verifichiamo che quale versione Rails è supportata su 

* [Heroku devcenter - Getting Started on Heroku with Rails 5.x](https://devcenter.heroku.com/articles/getting-started-with-rails5)

Altra fonte utile è 

* [Michael Hartl - Rails Tutorial 1.2.2 Installing Rails](https://www.railstutorial.org/book/beginning)

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ cd ~/environment
$ gem install rails -v 5.2.1.1
~~~~~~~~




## Creiamo l'applicazione

Una volta installato Rails passiamo a creare l'applicazione
In produzione Heroku utilizza postgreSQL quindi lo installiamo anche localmente.
Possiamo gestire postgreSQL localmente nell'ambiente di sviluppo e test perché su cloud9 è già preinstallato postgreSQL e dobbiamo solo farlo partire. Un'alternativa era quella di caricare la gemma "pg" solo per l'ambiente di produzione. Ma se possibile è preferibile usare nell'ambiente di sviluppo le stesse risorse usate in produzione.

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ cd ~/environment
$ rails _5.2.1.1_ new rigenerabatterie --database=postgresql
~~~~~~~~

Per l'applicazione non metto la numerazione (es: rebisworldbr1) tanto la ho già a livello di workspace c9.




## Apriamo l'applicazione localmente

Per aprire la nuova applicazione entriamo nella cartella elisinfo5 e facciamo partire il web server

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ cd rigenerabatterie
$ rails s
~~~~~~~~

su cloud9 clicchiamo sul link di "preview" e sul pulsante "Pop Out into new windows".

![Fig. a](beginning/new_app/02a-c9_preview.png)


Ho un bel messaggio di errore perché manca la connessione al database PostgreSQL.

![Fig. b](beginning/new_app/02b-db_error.png)





Questo errore lo risolveremo al capitolo 3 perché la prima cosa da fare dopo la creazione di una nuova applicazione è implementare Git. 
