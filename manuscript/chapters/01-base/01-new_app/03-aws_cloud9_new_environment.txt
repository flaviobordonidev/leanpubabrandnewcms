# Lavoriamo come root di aws cloud9




## Effettuiamo il login come amministratore

https://console.aws.amazon.com/

Scegliamo il link: "Sign-in using root account credentials"




## Entriamo su cloud9

Services -> Developer Tools -> Cloud9

Selezioniamo la "AWS Region" più vicina a noi. Ad esempio "Ireland"

![Fig. 01](images/01-base/01-new_app/03_fig01-aws-iam_user-console-region.png)

Ed iniziamo a creare un nuovo ambiente. E' un processo in 3 passi.

ATTENZIONE! Gli ambienti visualizzati sono in funzione della AWS Region selezionata. Se cambiamo Region non vedremo più degli ambienti caricati con la Region precedente. Basta riselezionare la Region precedente per rivisualizzarli.
Inoltre ogni Region ha dei costi di fatturazione differenti. Ad esempio: 

* EU (Frankfurt)        : n/a
* EU (Ireland)          : $0.11 per GB-month of General Purpose SSD (gp2) 
* US East (N. Virginia) : $0.10 per GB-month of General Purpose SSD (gp2) 

![Fig. 02](images/01-base/01-new_app/03_fig02-aws-region_billing.png)

Un consiglio è quello di lasciare inizialmente la AWS Region di default perché normalmente è quella più economica ed intervenire in un secondo momento nel cambio della Region; una volta valutate le prestazioni.




### step1

Click su "Create environment"

Diamo il nome della nostra app rails con un numero progressivo in fondo in modo da tener traccia delle varie versioni che si verranno a creare.

* Name: bl6_0
* Description : App base con Rails 6.0

![Fig. 03](images/01-base/01-new_app/03_fig03-aws_c9_new_environment_step1.png)

La chiamiamo " bl6_0 " ad indicare che è l'applicazione " baseline " creata con Rails 6.0.
Per applicazione baseline intendiamo quella che ha il 90% di tutto quello che ci serve per sviluppare e quindi un ottimo punto di partanza da clonare per tutte le altre applicazioni.




### Step2

Iniziamo con il server virtuale di default che è sufficiente per iniziare. Possiamo potenziarlo in seguito.
Più potenza diamo più ci costa.

* Environment type      : Create a new instance for environment (EC2)
* Instance type         : t2.micro (1 GiB RAM + 1 vCPU)
* Platform              : Ubuntu Server 18.04 LTS
* Cost-saving setting   : After 30 minutes (default)

![Fig. 04](images/01-base/01-new_app/03_fig04-aws_c9_new_environment_step2.png)




### Step 3

Review

![Fig. 05](images/01-base/01-new_app/03_fig05-aws_c9_new_environment_step3.png)

Click "Create environment"

Sono presentati i seguenti consigli che è interessante implementare successivamente con calma:

Raccomandiamo le seguenti migliori pratiche per l'utilizzo dell'ambiente AWS Cloud9

* Usare un source control (usiamo git) e fare il backup del proprio ambiente frequentemente (usiamo GitHub). AWS Cloud9 non esegue backup automatici.
* Eseguire aggiornamenti regolari del software sul proprio ambiente. AWS Cloud9 non esegue aggiornamenti automatici per tuo conto.
* Attivare AWS CloudTrail nel tuo account AWS per tenere traccia delle attività nel tuo ambiente. Ulteriori informazioni (https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html)
* Condividere il proprio ambiente solo con utenti fidati. La condivisione del tuo ambiente potrebbe mettere a rischio le tue credenziali di accesso AWS. Ulteriori informazioni (https://docs.aws.amazon.com/console/cloud9/share-environment-best-practices)




## Configuriamo la nostra sessione di AWS Cloud9

* Main theme    : AWS Cloud9 Classic Dark Theme
* Editor theme  : Cloud9 Night Low-Color
* Keyboard Mode : Default

![Fig. 06](images/01-base/01-new_app/03_fig06-dark_theme.png)


Su preferences -> Soft tabs: 2

![Fig. 07](images/01-base/01-new_app/03_fig07-soft_tabs.png)


L'ambiente è impostato. Adesso possiamo creare una nuova applicazione Rails.
