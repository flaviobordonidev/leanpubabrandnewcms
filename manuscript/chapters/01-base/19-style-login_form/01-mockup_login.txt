# Mockup Login

Usiamo BootStrap per dare uno stile al form iniziale di login. Creaimo un mockup, prima di inserire lo stile direttamente sul form di login di Devise.


Risorse web:

* [Bootstrap 4 - Login Screen with Floating Labels](https://startbootstrap.com/snippets/login/)




## Apriamo il branch "Mockup Login"

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ git checkout -b ml
~~~~~~~~



## Creiamo il nostro mockup posts_index

creiamo il nuovo file login tra le nostre pagine statiche di esempio

{id="02-04-01_01", title=".../app/views/mockups/login.html.erb", lang=HTML+Mako, line-numbers=on, starting-line-number=1}
~~~~~~~~
<body>
  <div class="container">
    <div class="row">
      <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
        <div class="card card-signin my-5">
          <div class="card-body">
            <h5 class="card-title text-center">Sign In</h5>
            <form class="form-signin">
              <div class="form-label-group">
                <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
                <label for="inputEmail">Email address</label>
              </div>

              <div class="form-label-group">
                <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
                <label for="inputPassword">Password</label>
              </div>

              <div class="custom-control custom-checkbox mb-3">
                <input type="checkbox" class="custom-control-input" id="customCheck1">
                <label class="custom-control-label" for="customCheck1">Remember password</label>
              </div>
              <button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">Sign in</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
~~~~~~~~

[Codice 01](#02-04-01_01all)


OPZIONALE:
In addition add javascript on label to focus on textbox when click

~~~~~~~~
<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required="" autofocus="">
<label for="inputEmail" onclick="document.getElementById('inputEmail').focus();">Email address</label>

<input type="password" id="inputPassword" class="form-control" placeholder="Password" required="">
<label for="inputPassword" onclick="document.getElementById('inputPassword').focus();">Password</label>
~~~~~~~~




## Creiamo un layout specifico per il mockups/posts_index

Poich√© nella view mockups/posts_index mettiamo tutto il codice html, usiamo un layout che ha la sola chiamata "yield" che chiamiamo " mockups_yield ".

{id="02-04-01_02", title=".../app/views/layouts/mockups_yield.html.erb", lang=HTML+Mako, line-numbers=on, starting-line-number=1}
~~~~~~~~
<%= yield %>
~~~~~~~~

[Codice 02](#02-04-01_02all)




## Aggiorniamo il controller

aggiungiamo l'azione "login" al controller mockups e diciamogli di utilizzare il layout mockups_yield.

{id="02-04-01_03", title=".../app/controllers/mockups_controller.rb", lang=ruby, line-numbers=on, starting-line-number=16}
~~~~~~~~
  def login
    render layout: 'mockups_yield'
  end
~~~~~~~~

[Codice 03](#02-04-01_03all)




## Aggiorniamo gli instradamenti

Aggiorniamo il file routes

{id="02-04-01_04", title="config/routes.rb", lang=ruby, line-numbers=on, starting-line-number=23}
~~~~~~~~
  get 'mockups/login'
~~~~~~~~

[Codice 04](#02-04-01_04all)





## Verifichiamo preview

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ sudo service postgresql start
$ rails s
~~~~~~~~

apriamolo il browser sull'URL:

* https://mycloud9path.amazonaws.com/mockups/login

non ci resta che importare stylesheets e javascripts, ma questo lo vediamo nel prossimo capitolo




## archiviamo su git

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ git add -A
$ git commit -m "add mockups/login"
~~~~~~~~




## Pubblichiamo su heroku

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ git push heroku ml:master
~~~~~~~~




## Chiudiamo il branch

lo lasciamo aperto. Lo chiudiamo nei prossimi capitoli.




## Il codice del capitolo

