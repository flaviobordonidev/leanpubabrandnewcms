# Bugs




## Bug frozen pages transition


Passando da una pagina all'altra con link_to la maschera bianca di attesa caricamento della pagina rimane incastrata e non si toglie. 

A> story:
A>
A> Come visitatore del sito 
A> 
A> Voglio vedere la pagina successiva cliccando su un link
A> 
A> Così da poter navigare sul sito

Bob e Fla aprono un branch per il troubleshooting del bug

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ git checkout master
$ git checkout -b bug_transition
$ git push origin bug_transition
~~~~~~~~

Bob verifica che la funzione javascript che toglie la maschera bianca una volta caricata la pagina è su functions.js 

{title="vendor/assets/javascripts/functions.js", lang=javascript, line-numbers=on, starting-line-number=573}
~~~~~~~~
pageTransition: function(){
  if( !$body.hasClass('no-transition') ){
~~~~~~~~

Fla si accorge della chiamata "if body.hasClass no-transition" e disabilita le transizioni aggiungendo no-transition alla classe del body

{title="views/layouts/application.html.erb", lang=HTML+Mako, line-numbers=on, starting-line-number=11}
~~~~~~~~
<body class="stretched no-transition">
~~~~~~~~

Questo risolve il problema. (In realtà aggira il problema. E' un workaround e non un fix.)


{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ git add -A
$ git commit -m "workaround frozen pages transition"
~~~~~~~~

Decidono di chiudere il ramo anche se con un workaround e non un fix.
Questa user story è finita  quindi faccio un "pull request" su github per fare il merge e chiudere il branch.

{title="terminal", lang=bash, line-numbers=off}
~~~~~~~~
$ git checkout master
$ git merge bug_transition
$ git push origin master
$ git branch -d bug_transition
$ git push origin :bug_transition
~~~~~~~~


---
---
---

# Troubleshooting




## Heroku ECONNREFUSED


A> $ heroku run rake db:migrate


I> Mi da un messaggio di errore:
I>
I> flavio@flubuntu:~/Sites/romasportface2$ heroku run rake db:migrate
I>
I> Running rake db:migrate on guarded-retreat-51105... up, run.7893
I>
I> ▸    ECONNREFUSED: connect ECONNREFUSED 50.19.103.36:5000
I>
I> Questo era dovuto ad un problema di linea internet. Collegato con tethering dal telefono ha funzionato 
I> http://stackoverflow.com/questions/33487674/heroku-fail-to-migrate-due-to-econnrefused




## Heroku images

Per visualizzare le immagini su Heroku dobbiamo usare image_path. Non basta solo l'url perché altrimente alla parte finale dell'asset heroku aggiunge un hash per fare della cash sulle immaggini e quindi veniva "abnormalis-213925312321391203.png" e questo non matchava quindi con quanto scritto qui. Mettendo image_path invece si risolve e quindi le immagini non vengono solo visualizzate in debug su localhost ma anche in developping su heroku. 


README.md
.ico_abnormalis
{
  background-image: url(image_path("my_style_images/icons/abnormalis.png"));
}

---
Su video "r4_abnormalis 5"
nei primi due minuti soluzione per le immagini su Heroku

02:40 intallo bootstrap


dopo il dodicesimo minuto 12:00 ...

Errore di generazione migrazione!!!
Uso del comando DESTROY migration....
(questo comando fa un semplice delete del file della migration. non mi sembra che faccia il roll back del database. Ma devo fare altre prove per verificare.)



